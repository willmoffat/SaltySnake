<!DOCTYPE html>
<html>
  <title>Hello, World!</title>
  <style>
    #input,#output {
      width:40%; height:10em;
      border:thin solid gray;
      margin-right:1em;
      padding:0.6em;
      background-color:linen;
   }
  </style>
  <h1>Pepper Python</h1>

  <textarea id="input">
for animal in ['Aardvarks', 'Hedgehogs', 'Zebras']:
  print("%s are cool!" % animal)
</textarea>

  <textarea id="output" readonly></textarea>
  <br>
  <button id="run">Run</button>

  <embed id="pepper_py" width="0" height="0" src="pepper_py.nmf" type="application/x-nacl" onmessage="console.log(e)"/>

<script type="text/javascript">
  function handleMessage(e) {
    output.textContent = e.data;
  }

  function doRun() {
    output.textContent = 'Running...';
    pepper_py.postMessage('run:'+input.value);
  }

  pepper_py.addEventListener('message', handleMessage, true);
  run.addEventListener('click', doRun, true);
</script>
